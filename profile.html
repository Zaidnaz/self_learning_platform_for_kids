<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="container mt-4">
        <a href="dashboard.html" class="btn btn-secondary rounded-pill mb-3">â¬… Back</a>

        <div class="card kid-card p-4 mx-auto text-center" style="max-width: 500px;">
            <h2 data-i18n="profile">My Profile</h2>
            
            <div class="bg-light rounded p-3 my-3">
                <span style="font-size: 5rem;" class="user-avatar">ğŸ¼</span>
                <h3 class="user-name text-primary fw-bold">Name</h3>
                <h4 class="text-warning">â­ <span class="user-score">0</span></h4>
            </div>

            <h5 class="text-start mt-4" data-i18n="chooseAvatar">Choose Your Hero:</h5>
            <div class="d-flex justify-content-center gap-3 mb-4 flex-wrap">
                <div class="avatar-option" onclick="selectAvatar(this, 'ğŸ¼')">ğŸ¼</div>
                <div class="avatar-option" onclick="selectAvatar(this, 'ğŸ¯')">ğŸ¯</div>
                <div class="avatar-option" onclick="selectAvatar(this, 'ğŸ¦„')">ğŸ¦„</div>
                <div class="avatar-option" onclick="selectAvatar(this, 'ğŸš€')">ğŸš€</div>
                <div class="avatar-option" onclick="selectAvatar(this, 'ğŸ‘¾')">ğŸ‘¾</div>
            </div>

            <div class="mb-4 text-start">
                <label class="form-label fw-bold">Language / à¤­à¤¾à¤·à¤¾</label>
                <select id="profile-lang" class="form-select border-3" onchange="setLanguage(this.value)">
                    <option value="en">English</option>
                    <option value="hi">Hindi</option>
                    <option value="te">Telugu</option>
                    <option value="kn">Kannada</option>
                </select>
            </div>

            <button onclick="logout()" class="btn btn-outline-danger w-100 rounded-pill" data-i18n="logout">Logout</button>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Set initial state for profile inputs
        document.getElementById('profile-lang').value = currentUser.lang;
        
        // Highlight current avatar
        document.querySelectorAll('.avatar-option').forEach(el => {
            if(el.innerText === currentUser.avatar) el.classList.add('selected');
        });

        function selectAvatar(el, icon) {
            // Remove old selection
            document.querySelectorAll('.avatar-option').forEach(x => x.classList.remove('selected'));
            // Add new
            el.classList.add('selected');
            // Save
            currentUser.avatar = icon;
            localStorage.setItem('kidUser', JSON.stringify(currentUser));
            updateUI();
        }
    </script>
</body>
</html>